(this["webpackJsonpreact-globe-test"]=this["webpackJsonpreact-globe-test"]||[]).push([[0],{27:function(e,t,n){},3:function(e,t){e.exports=Cesium},35:function(e,t,n){},41:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},69:function(e,t,n){},74:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(21),i=n.n(a),o=(n(63),n(7)),s=n.n(o),l=n(23),u=(n(35),n(14)),d=(n(65),n(42)),b=n.n(d),j=n(6),f="SAVE_USER_NAME",p="SKIP_INTRO",h="CHANGE_NAME",O="START_SPINNING",y="START_REVOLVING",x="START_SIGHTSEEING",m="PICK_COORDINATES",g="NO_NEARBY_CITIES",v="NEARBY_CITIES_FETCH_SUCCEEDED",C="NEARBY_CITIES_FETCH_FAILED",w="GET_SINGLE_CITY_DATA",k="SINGLE_CITY_DATA_FETCH_SUCCEEDED",E="SINGLE_CITY_DATA_FETCH_FAILED",N="RESET_SINGLE_CITY",_="EXTENDED_CITY_DATA_FETCH_SUCCEDEED",S="EXTENDED_CITY_DATA_FETCH_FAILED",T="SAVE_RECENT_LOCATIONS",D="DELETE_SINGLE_RECENT_LOCATION",I="CLEAR_RECENTS_LIST",L=n(11),A=(n(69),"/nomado/"),R="/nomado/dart",B="/nomado/city/:id",F="/nomado/recentlist",M="/nomado/widget",Y=n(1),W=function(){var e,t,n=Object(j.c)((function(e){return e.splashScreen.userName})),c=Object(r.useState)(!1),a=Object(u.a)(c,2),i=a[0],o=a[1],s=Object(r.useRef)(null),l=Object(L.g)(),d=Object(j.b)();return e=s,t=function(){return o(!1)},Object(r.useEffect)((function(){var n=function(n){e.current&&n.target&&!e.current.contains(n.target)&&e.current!==n.target&&t()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e,t]),Object(Y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"90%"},children:[l.location.pathname!==A&&Object(Y.jsx)("h1",{style:{color:"white",cursor:"pointer"},onClick:function(){return l.push(A)},children:"Home"}),Object(Y.jsx)("div",{}),Object(Y.jsxs)("div",{ref:s,className:"nav-item",children:[Object(Y.jsx)("img",{className:"avatar",src:"https://avatars.dicebear.com/api/identicon/".concat(n,".svg"),alt:""}),Object(Y.jsxs)("div",{style:{cursor:"pointer",margin:"0px 1em"},onClick:function(){o((function(e){return!e}))},children:[n,i?"\ud83d\udd3c":"\ud83d\udd3d"]}),Object(Y.jsxs)("ul",{style:{display:i?"":"none"},className:"dropdown-menu",children:[Object(Y.jsx)("li",{className:"dropdown-item",onClick:function(){return l.push(F)},children:"show recently viewed locations"}),Object(Y.jsx)("li",{className:"dropdown-item",onClick:function(){return d({type:h})},children:"change name"})]})]})]})},G=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(u.a)(a,2),o=i[0],s=i[1],l=Object(r.useState)(""),d=Object(u.a)(l,2),h=d[0],O=d[1],y=Object(r.useRef)(null),x=Object(r.useRef)(null),m=Object(r.useRef)(null),g=Object(j.c)((function(e){return e.splashScreen.skippedIntro})),v=Object(r.useState)(g),C=Object(u.a)(v,2),w=C[0],k=C[1],E=Object(j.b)();Object(r.useEffect)((function(){g||_()}),[g]);var N=function(){var e=m.current;e.style.height="8vh",e.style.boxShadow="3px 3px 8px #cbced1,-3px -3px 8px #ffffff";var t=x.current;t.style.opacity="0",t.style.marginTop="-20px",setTimeout((function(){return k(!0)}),2e3)},_=function(){var e=m.current;e.style.height="100vh",e.style.boxShadow="",setTimeout((function(){k(!1),s(!0)}),100)},S={strings:["Welcome digital nomad","what do they call you?"],typeSpeed:50,backSpeed:50,attr:"placeholder",bindInputFocusEvents:!0,onComplete:function(){c(!0),y.current&&y.current.focus(),setTimeout((function(){s(!0)}),3e3)}};return Object(r.useEffect)((function(){y.current&&new b.a(y.current,S).start()}),[]),Object(Y.jsx)("div",{className:w?"navbar":"wrapper",ref:m,children:w?Object(Y.jsx)(W,{}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("div",{style:{transition:"2s",display:"flex",width:"15em"},children:[Object(Y.jsx)("input",{className:"name-input",ref:y,style:{borderBottom:n?"1px white solid":""},value:h,onChange:function(e){return O(e.target.value)}}),h.length>0&&Object(Y.jsx)("button",{className:"styled-button",onClick:function(){E({type:f,payload:h}),N()},children:"ok"})]}),Object(Y.jsx)("div",{className:"skipWrapper",ref:x,style:{marginTop:o?"77px":"100px"},children:o&&Object(Y.jsx)("button",{className:"styled-button",onClick:function(){N(),E({type:p})},children:"skip"})})]})})},H=n(44),z=n(3),P=function(e){return{type:m,payload:e}},V=function(e,t,n){return{type:v,payload:{cityNames:e,cityCoords:t,cityLinks:n}}},X=function(){var e=Object(r.useRef)(null),t=Object(j.c)((function(e){return e.globe.fetchedNearCities.cityCoords})),n=Object(j.c)((function(e){return e.globe.fetchedNearCities.cityNames})),c=Object(j.c)((function(e){return e.globe.fetchedNearCities.cityLinks})),a=Object(j.c)((function(e){return e.singleCity})),i=Object(j.b)(),o=Object(r.useState)(),s=Object(u.a)(o,2),l=s[0],d=s[1];Object(r.useEffect)((function(){d(e.current.cesiumElement)}),[]);var b=Object(L.g)(),f=function e(t,n){l&&l.camera.flyTo({destination:z.Cartesian3.fromDegrees(t,0,2e7),easingFunction:function(e){return e},duration:n,complete:function(){return e(t-90,n)}})};switch(b.location.pathname){case R:f(-90,.2);break;case A:f(-180,10)}return Object(r.useEffect)((function(){if(new RegExp("".concat(B.split(":")[0],"\\d+")).test(b.location.pathname)&&l){if(1===(null===t||void 0===t?void 0:t.length)){l.camera.flyTo({destination:z.Cartesian3.fromDegrees(t[0].long,t[0].lat,2e4)});var e=c[0].split(":").pop();a.id!==e&&b.push(B.replace(":id",e))}if((null===t||void 0===t?void 0:t.length)>1){var n=t.reduce((function(e,t){return e.long+t.long}))/t.length,r=t.reduce((function(e,t){return e.lat+t.lat}))/t.length;l.camera.flyTo({destination:z.Cartesian3.fromDegrees(n,r,4e4)})}}}),[t,l]),Object(Y.jsx)(H.a,{ref:e,full:!0,onClick:function(t){var r,c,a;i({type:x});var o=e.current.cesiumElement,s=o.scene,l=null!==(r=null===(c=(a=o.camera).pickEllipsoid)||void 0===c?void 0:c.call(a,t.position,s.globe.ellipsoid))&&void 0!==r?r:null;if(l){var u=z.Cartographic.fromCartesian(l);i(P({long:z.Math.toDegrees(u.longitude),lat:z.Math.toDegrees(u.latitude)}));var d=z.Cartesian3.fromRadians(u.longitude,u.latitude,0===n.length?2e7:2e4);o.camera.flyTo({destination:d,easingFunction:function(e){return e},duration:1})}}})},J=n(45),U=function(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){var t=window.matchMedia(e);t.matches!==c&&a(t.matches);var n=function(){return a(t.matches)};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[c,e]),c},Z=(n(41),function(e){var t=e.options,n=Object(r.useState)(0),c=Object(u.a)(n,2),a=c[0],i=c[1],o=Object(L.g)();return Object(Y.jsx)("div",{className:"card-wrapper",children:Object(Y.jsxs)("div",{style:{maxWidth:"40em",maxHeight:"30em",backgroundColor:"white",borderRadius:"20px"},children:[Object(Y.jsx)("div",{style:{display:"flex"},children:t.map((function(e,n){var r=n===a?"selected-tab":n===a-1?"tab-before":n===a+1?"tab-after":0===n?"left-edge-tab":n===t.length-1?"right-edge-tab":"further-tab";return Object(Y.jsx)("div",{onClick:function(){return i(n)},style:{width:"100%",textAlign:"center"},children:Object(Y.jsx)("h1",{className:r,children:e.shortTitle})},n)}))}),Object(Y.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(Y.jsx)("h1",{children:t[a].title}),Object(Y.jsx)("p",{style:{width:"95%",textAlign:"center"},children:t[a].paragraph}),Object(Y.jsx)("p",{onClick:function(){return o.push(t[a].address)},className:"tab-button",children:t[a].emoji})]})]})})}),K=function(){var e=Object(j.b)();Object(r.useEffect)((function(){e({type:y})}),[]);var t=function(e){var t=e.title,n=e.paragraph,r=e.emoji,c=e.address,a=Object(L.g)();return Object(Y.jsx)("div",{onClick:function(){a.push(c)},children:Object(Y.jsx)(J.a,{className:"tilt-parallax",perspective:1e3,glareBorderRadius:"10px",glareEnable:!0,glareMaxOpacity:.9,glareColor:"lightblue",glarePosition:"all",scale:1.1,children:Object(Y.jsxs)("div",{style:{maxHeight:"30em",maxWidth:"20em",backgroundColor:"white",borderRadius:"20px"},children:[Object(Y.jsx)("h1",{style:{transform:"translateZ(30px)"},children:t}),Object(Y.jsx)("p",{style:{transform:"translateZ(30px)"},children:n}),Object(Y.jsx)("p",{style:{transform:"translateZ(30px)",fontSize:"5rem"},children:r})]})})})},n=U("(max-width: 833px)");return Object(Y.jsx)(Y.Fragment,{children:n?Object(Y.jsx)(Z,{options:[{shortTitle:"Dart throw\ud83c\udfaf",title:"Try your luck",paragraph:"throw a dart at the globe to try to select destination of your next journey",emoji:"\ud83c\udfaf",address:R},{shortTitle:"Search\ud83d\udd0d",title:"Search by name",paragraph:"search for details a holiday destination by name via thesearch engine",emoji:"\ud83d\udd0d",address:M}]}):Object(Y.jsxs)("div",{className:"card-wrapper",children:[Object(Y.jsx)(t,{title:"Try your luck",paragraph:"throw a dart at the globe to try to select destination of your next journey",emoji:"\ud83c\udfaf",address:R}),Object(Y.jsx)(t,{title:"Search by name",paragraph:"search for details a holiday destination by name via thesearch engine",emoji:"\ud83d\udd0d",address:M})]})})},q=function(e,t,n){return{type:k,payload:{cityName:e,cityCoords:t,cityLink:n}}},Q=n(24),$=Object(Q.a)((function(e){return e.globe.fetchedNearCities.cityNames}),(function(e){return e.globe.fetchedNearCities.cityCoords}),(function(e){return e.globe.fetchedNearCities.cityLinks}),(function(e,t,n){return 1===e.length||1===t.length||1===n.length?{name:e[0],coords:t[0],link:n[0]}:0!==e.length&&0!==t.length&&1!==n.length})),ee=(n(74),function(){var e=Object(L.g)(),t=Object(j.c)($),n=Object(j.b)();return Object(r.useEffect)((function(){n({type:O}),n({type:N})}),[]),Object(r.useEffect)((function(){if("boolean"!==typeof t){var n=t.link.split(":").pop().split("/")[0];e.push(B.replace(":id",n))}}),[t]),Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)("div",{className:"dart-top-label",children:" click on globe to throw a dart"})})}),te=Object(Q.a)((function(e){var t,n,r,c,a,i;return null!==(t=null===(n=e.singleCity.extendedCityData.data)||void 0===n||null===(r=n._embedded)||void 0===r||null===(c=r["city:urban_area"])||void 0===c||null===(a=c._embedded)||void 0===a||null===(i=a["ua:images"])||void 0===i?void 0:i.photos)&&void 0!==t&&t}),(function(e){return!!e&&e.map((function(e){return e.image}))})),ne=Object(Q.a)((function(e){var t,n,r,c,a,i;return null!==(t=null===(n=e.singleCity.extendedCityData.data)||void 0===n||null===(r=n._embedded)||void 0===r||null===(c=r["city:urban_area"])||void 0===c||null===(a=c._embedded)||void 0===a||null===(i=a["ua:salaries"])||void 0===i?void 0:i.salaries)&&void 0!==t&&t}),(function(e){return e})),re=(Object(Q.a)((function(e){var t,n,r,c,a,i;return null!==(t=null===(n=e.singleCity.extendedCityData.data)||void 0===n||null===(r=n._embedded)||void 0===r||null===(c=r["city:urban_area"])||void 0===c||null===(a=c._embedded)||void 0===a||null===(i=a["ua:scores"])||void 0===i?void 0:i.salaries)&&void 0!==t&&t}),(function(e){return!!e&&{categories:e.categories,summary:e.summary,teleport_city_score:e.teleport_city_score}})),function(e){var t=0,n=0,c=0,a=0,i=function(e){(e=e||window.event).preventDefault(),c=e.clientX,a=e.clientY,document.onmouseup=s,document.onmousemove=o};Object(r.useEffect)((function(){return e.current&&(e.current.style.bottom="0px",e.current.onmousedown=i),function(){return s()}}),[e]);var o=function(r){(r=r||window.event).preventDefault(),t=c-r.clientX,n=a-r.clientY,c=r.clientX,a=r.clientY,e.current.style.top=e.current.offsetTop-n+"px",e.current.style.left=e.current.offsetLeft-t+"px"},s=function(){document.onmouseup=null,document.onmousemove=null}}),ce=(n(27),function(){var e=Object(j.c)(te),t=U("(max-width: 833px)"),n=Object(r.useRef)(null);return re(n),Object(Y.jsx)(Y.Fragment,{children:!t&&Object(Y.jsx)("div",{ref:n,className:"photo-container",children:Object(Y.jsx)("img",{src:e[0].web,alt:""})})})}),ae=function(){var e=Object(j.c)((function(e){return e.singleCity.fetchedBasicCityData.cityName})),t=Object(r.useRef)(null);re(t);var n=U("(max-width: 833px)"),c=Object(j.c)(ne);return Object(Y.jsx)(Y.Fragment,{children:!n&&Object(Y.jsxs)("div",{ref:t,style:{borderRadius:"5px",position:"absolute",zIndex:10,backgroundColor:"white",height:"75vh",overflowY:"auto"},children:[Object(Y.jsxs)("h3",{style:{width:"100%",textAlign:"center"},children:["Salaries in ",e]}),c.map((function(e,t){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{style:{textAlign:"center"},children:e.job.title},t),Object(Y.jsxs)("ul",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(Y.jsxs)("li",{style:{listStyleType:"none",color:"red",fontWeight:"bold"},children:["25%: ",Math.round(e.salary_percentiles.percentile_25)]}),Object(Y.jsxs)("li",{style:{listStyleType:"none",color:"blue",fontWeight:"bold"},children:["50%: ",Math.round(e.salary_percentiles.percentile_50)]}),Object(Y.jsxs)("li",{style:{listStyleType:"none",color:"teal",fontWeight:"bold"},children:["75%: ",Math.round(e.salary_percentiles.percentile_75)]})]})]})}))]})})},ie=function(e){var t=e.id,n=Object(j.c)((function(e){return e.singleCity.fetchedBasicCityData.cityName})),c=Object(j.c)((function(e){return e.singleCity.id})),a=Object(j.c)((function(e){return e.globe.fetchedNearCities.cityLinks})),i=U("(max-width: 833px)"),o=Object(j.c)(te),s=Object(j.c)(ne),l=Object(j.c)((function(e){return e.singleCity.fetchedBasicCityData.cityCoords})),u=Object(j.c)((function(e){return e.globe.coords})),d=Object(j.b)();return Object(r.useEffect)((function(){var e,n,r;c!==t&&d(function(e){return{type:w,payload:e}}(t));var i=null!==(e=null===(n=a[0])||void 0===n||null===(r=n.split(":"))||void 0===r?void 0:r.pop())&&void 0!==e?e:"";t!==i&&(l.long===u.long&&l.lat===u.lat||d(P({long:l.long,lat:l.lat})))}),[t]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{style:{fontSize:"xx-large",position:i?"absolute":"relative",width:i?"100%":"",margin:"0"},className:"dart-top-label",children:n}),o&&Object(Y.jsx)(ce,{}),s&&Object(Y.jsx)(ae,{})]})},oe=function(){var e=document.getElementById("teleport-widget");return e.style.display="",e.style.position="absolute",e.style.top="0",e.style.marginLeft="auto",e.style.marginRight="auto",e.style.left="0",e.style.right="0",e.style.textAlign="center",e.style.zIndex="2",Object(Y.jsx)("div",{})},se=function(e){return{type:T,payload:e}},le=function(){var e=Object(L.g)(),t=Object(j.c)((function(e){return e.recentLocations.list})),n=Object(j.b)();return Object(Y.jsxs)("div",{style:{display:"flex",flexDirection:"column",zIndex:1,alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw",color:"white",position:"absolute"},children:[Object(Y.jsx)("ol",{children:t.map((function(t){return Object(Y.jsxs)("li",{children:[Object(Y.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.push(B.replace(":id",t.id))},children:t.fetchedBasicCityData.cityName})," - ",t.userName," ",Object(Y.jsx)("span",{style:{cursor:"pointer"},onClick:function(){var e;n((e=t.id,{type:D,payload:e}))},children:"\ud83d\uddd1"})]},t.id)}))}),Object(Y.jsx)("button",{className:"styled-button",onClick:function(){return n({type:I})},children:"clear list"})]})};var ue=Object(L.h)((function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(G,{}),Object(Y.jsxs)(L.d,{children:[Object(Y.jsx)(L.b,{exact:!0,path:R,component:ee}),Object(Y.jsx)(L.b,{exact:!0,path:M,component:oe}),Object(Y.jsx)(L.b,{exact:!0,path:B,component:function(e){var t=e.match;return Object(Y.jsx)(ie,{id:t.params.id})}}),Object(Y.jsx)(L.b,{exact:!0,path:F,component:le}),Object(Y.jsx)(L.b,{exact:!0,path:A,component:K}),Object(Y.jsx)(L.a,{to:A})]}),Object(Y.jsx)(X,{})]})})),de=n(50),be=n(36),je=n(46),fe=n(19),pe=n(58),he=n(47),Oe=n(38),ye=n(48),xe=n.n(ye),me=n(4),ge={isLoading:!1,errMess:"",cityNames:[],cityCoords:[],cityLinks:[]},ve=n(9),Ce=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.teleport.org/api/locations/".concat(t.lat,",").concat(t.long,"/?embed=location%3Anearest-cities%2Flocation%3Anearest-city")).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=s.a.mark(ke);function ke(e){var t,n,r,c=arguments;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(a.prev=0,t=c.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=c[r];return a.next=4,ve.b.apply(void 0,[e].concat(n));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),console.error(a.t0);case 9:case"end":return a.stop()}}),we,null,[[0,6]])}var Ee=ke,Ne=s.a.mark(Te),_e=s.a.mark(De),Se=s.a.mark(Ie);function Te(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.e)(m,Ee,De);case 2:case"end":return e.stop()}}),Ne)}function De(){var e,t,n,r,c,a;return s.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(ve.d)((function(e){return e.globe.coords}));case 2:return e=i.sent,i.next=5,Object(ve.b)(Ce,e);case 5:if(t=i.sent,n=[],r=[],c=[],!t){i.next=21;break}if(null===(a=t._embedded["location:nearest-cities"])||void 0===a||a.forEach((function(e){c.push(e._links["location:nearest-city"].href),n.push(e._links["location:nearest-city"].name);var t=e._embedded["location:nearest-city"].location.latlon;r.push({long:t.longitude,lat:t.latitude})})),0!==n.length&&0!==r.length){i.next=15;break}return i.next=14,Object(ve.c)({type:g});case 14:return i.abrupt("return");case 15:return i.next=17,Object(ve.c)(V(n,r,c));case 17:return i.next=19,Object(ve.b)(Ie,n,r,c);case 19:i.next=23;break;case 21:return i.next=23,Object(ve.c)({type:C});case 23:case"end":return i.stop()}}),_e)}function Ie(e,t,n){return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(1!==e.length&&1!==t.length&&1!==n.length){r.next=3;break}return r.next=3,Object(ve.c)(q(e[0],t[0],n[0]));case 3:case"end":return r.stop()}}),Se)}var Le=Te,Ae=s.a.mark(Be),Re=s.a.mark(Fe);function Be(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.e)(k,Fe);case 2:case"end":return e.stop()}}),Ae)}function Fe(){var e,t,n,r;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(ve.d)((function(e){return e.recentLocations.list}));case 2:return e=c.sent,c.next=5,Object(ve.d)((function(e){return e.splashScreen.userName}));case 5:return t=c.sent,c.next=8,Object(ve.d)((function(e){return e.singleCity}));case 8:if(n=c.sent,r=JSON.parse(JSON.stringify(e)),e.find((function(e){return e.id===n.id}))&&(r=e.filter((function(e){return e.id!==n.id}))),e.length>=50&&(r=e.slice(0,-1)),r.unshift(Object(me.a)(Object(me.a)({},n),{},{userName:t})),n.fetchedBasicCityData.cityLink.split(":").pop().split("/")[0]!==n.id){c.next=17;break}return c.next=17,Object(ve.c)(se(r));case 17:return c.abrupt("return");case 18:case"end":return c.stop()}}),Re)}var Me=Be,Ye=function(){var e=Object(l.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",n&&(r+=n),e.abrupt("return",fetch("https://api.teleport.org/api/cities/geonameid:".concat(t,"/").concat(r)).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),We=s.a.mark(Pe),Ge=s.a.mark(Ve),He=s.a.mark(Xe),ze=s.a.mark(Je);function Pe(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.f)(w,Ee,Ve);case 2:case"end":return e.stop()}}),We)}function Ve(){var e,t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ve.d)((function(e){return e.singleCity.id}));case 2:return e=n.sent,n.next=5,Object(ve.b)(Ye,e);case 5:if(!(t=n.sent)){n.next=11;break}return n.next=9,Object(ve.a)([Object(ve.b)(Xe,t),Object(ve.b)(Je,t)]);case 9:n.next=13;break;case 11:return n.next=13,Object(ve.c)({type:E});case 13:case"end":return n.stop()}}),Ge)}function Xe(e){var t,n,r,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(ve.d)((function(e){return e.singleCity.fetchedBasicCityData.cityLink}));case 2:return t=a.sent,a.next=5,Object(ve.d)((function(e){return e.singleCity.fetchedBasicCityData.cityName}));case 5:return n=a.sent,a.next=8,Object(ve.d)((function(e){return e.singleCity.fetchedBasicCityData.cityCoords}));case 8:if(r=a.sent,!(t.length<1||n.length<1)&&r.long&&r.lat){a.next=13;break}return c=e.location.latlon,a.next=13,Object(ve.c)(q(e.name,{long:c.longitude,lat:c.latitude},e._links.self.href));case 13:case"end":return a.stop()}}),He)}function Je(e){var t,n,r,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(ve.d)((function(e){return e.singleCity.id}));case 2:return t=a.sent,n=Object.keys(e._links).filter((function(e){return e.includes("city")})),r="",n&&n.length>0&&n.forEach((function(e,t){r+=0===t?"?embed=":"&embed=",e.includes("urban_area")?r+="city:urban_area/ua:images&embed=city:urban_area/ua:salaries&embed=city:urban_area/ua:scores":r+=e})),a.next=8,Object(ve.b)(Ye,t,r);case 8:if(!(c=a.sent)){a.next=14;break}return a.next=12,Object(ve.c)({type:_,payload:c});case 12:a.next=16;break;case 14:return a.next=16,Object(ve.c)({type:S});case 16:case"end":return a.stop()}}),ze)}var Ue=Pe,Ze=s.a.mark(Ke);function Ke(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.a)([Le(),Ue(),Me()]);case 2:case"end":return e.stop()}}),Ze)}var qe={isLoading:!1,errMess:"",cityName:"",cityCoords:{},cityLink:""},Qe={isLoading:!1,errMess:"",data:{}},$e={key:"root",storage:xe.a,debug:!0},et=Object(fe.combineReducers)({splashScreen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userName:"",skippedIntro:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(me.a)(Object(me.a)({},e),{},{userName:t.payload,skippedIntro:!0});case p:return Object(me.a)(Object(me.a)({},e),{},{skippedIntro:!0});case h:return Object(me.a)(Object(me.a)({},e),{},{skippedIntro:!1});default:return e}},globe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fastSpinning:!1,slowRevolving:!0,coords:{long:0,lat:0},fetchedNearCities:ge},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(me.a)(Object(me.a)({},e),{},{fastSpinning:!0,slowRevolving:!1,fetchedNearCities:ge});case y:return Object(me.a)(Object(me.a)({},e),{},{fastSpinning:!1,slowRevolving:!0});case x:return Object(me.a)(Object(me.a)({},e),{},{fastSpinning:!1,slowRevolving:!1});case m:return Object(me.a)(Object(me.a)({},e),{},{coords:t.payload});case g:return Object(me.a)(Object(me.a)({},e),{},{fetchedNearCities:ge});case C:return Object(me.a)(Object(me.a)({},e),{},{fetchedNearCities:Object(me.a)(Object(me.a)({},ge),{},{errMess:"failed to fetch"})});case v:return Object(me.a)(Object(me.a)({},e),{},{fetchedNearCities:Object(me.a)(Object(me.a)({},ge),{},{cityNames:t.payload.cityNames,cityCoords:t.payload.cityCoords,cityLinks:t.payload.cityLinks})});default:return e}},singleCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:"",fetchedBasicCityData:qe,extendedCityData:Qe},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:var n,r,c,a,i=null!==(n=null===(r=e.fetchedBasicCityData.cityLink.split(":").pop())||void 0===r||null===(c=r.split)||void 0===c||null===(a=c.call(r,"/"))||void 0===a?void 0:a[0])&&void 0!==n?n:"";return Object(me.a)(Object(me.a)({},e),{},{id:t.payload,fetchedBasicCityData:i===t.payload?e.fetchedBasicCityData:Object(me.a)(Object(me.a)({},qe),{},{isloading:!0})});case k:return Object(me.a)(Object(me.a)({},e),{},{fetchedBasicCityData:Object(me.a)(Object(me.a)({},qe),{},{cityName:t.payload.cityName,cityCoords:t.payload.cityCoords,cityLink:t.payload.cityLink})});case E:return Object(me.a)(Object(me.a)({},e),{},{sfetchedBasicCityData:Object(me.a)(Object(me.a)({},qe),{},{errMess:"failed to fetch basic city info"})});case N:return Object(me.a)(Object(me.a)({},e),{},{id:"",fetchedBasicCityData:qe});case _:return Object(me.a)(Object(me.a)({},e),{},{extendedCityData:Object(me.a)(Object(me.a)({},Qe),{},{data:t.payload})});case S:return Object(me.a)(Object(me.a)({},e),{},{extendedCityData:Object(me.a)(Object(me.a)({},Qe),{},{errMess:"could not fetch extended data"})});default:return e}},recentLocations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(me.a)(Object(me.a)({},e),{},{list:t.payload});case D:return Object(me.a)(Object(me.a)({},e),{},{list:e.list.filter((function(e){return e.id!==t.payload}))});case I:return Object(me.a)(Object(me.a)({},e),{},{list:[]});default:return e}}}),tt=Object(Oe.a)($e,et),nt=Object(pe.a)(),rt=n(49),ct=function(e){var t=e.error,n=e.resetErrorBoundary;return Object(Y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:Object(Y.jsxs)("div",{role:"alert",children:[Object(Y.jsx)("h1",{style:{textAlign:"center"},children:"Something Went Wrong \ud83d\ude15"}),Object(Y.jsx)("pre",{style:{color:"red"},children:t.message}),Object(Y.jsx)("button",{onClick:function(){n(),caches&&caches.keys().then((function(e){var t,n=Object(rt.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;caches.delete(r)}}catch(c){n.e(c)}finally{n.f()}})),document.location.href="/"},children:"try again"})]})})},at=function(){var e=Object(he.composeWithDevTools)({trace:!0,traceLimit:25}),t=Object(fe.createStore)(tt,e(Object(fe.applyMiddleware)(nt))),n=Object(Oe.b)(t);return nt.run(Ke),window.Cypress&&(window.store=t),{store:t,persistor:n}}(),it=at.store,ot=at.persistor;var st=function(){return Object(Y.jsx)(de.ErrorBoundary,{FallbackComponent:ct,onReset:Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.purge();case 2:case"end":return e.stop()}}),e)}))),children:Object(Y.jsx)(j.a,{store:it,children:Object(Y.jsx)(je.a,{loading:null,persistor:ot,children:Object(Y.jsx)(be.a,{children:Object(Y.jsx)(ue,{})})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},ut=(n(77),function(){return Object(Y.jsx)("div",{className:"container",children:Object(Y.jsxs)("div",{className:"spinner",children:[Object(Y.jsx)("div",{}),Object(Y.jsx)("div",{})]})})}),dt=n(39),bt=n(52),jt=n(54),ft=n(80);dt.a.use(bt.a).use(jt.a).use(ft.a).init({fallbackLng:"en",debug:!1,detection:{order:["querystring","cookie","header"],lookupCookie:"lang",lookupQuerystring:"lang",caches:["cookie"]},interpolation:{escapeValue:!1}});dt.a;i.a.render(Object(Y.jsx)(c.a.StrictMode,{children:Object(Y.jsx)(r.Suspense,{fallback:Object(Y.jsx)(ut,{}),children:Object(Y.jsx)(st,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),lt()}},[[78,1,2]]]);
//# sourceMappingURL=main.ca659e8a.chunk.js.map